<div class="row p-1 mt-1 table-responsive no-gutters">
  <table
    mdbTable
    striped="true"
    hover="true"
    small="true"
    class="z-depth-1 text-center"
  >
    <thead
      table-headers
      [tableHeaders]="tableHeaders"
      [sort]="propertiesStateService.getSort() | async"
      (sortChanged)="sortTable($event)"
    ></thead>
    <tbody id="properiesTableBody">
      <ng-container
        *ngFor="
          let property of propertiesModel.entities;
          let i = index;
          first as isFirst;
          last as isLast
        "
      >
        <tr *ngIf="(i + 1) % 5 === 0 && !isFirst && !isLast">
          <td *ngFor="let tableHeader of tableHeaders">
            {{ tableHeader.visibleName || tableHeader.name | translate }}
          </td>
        </tr>
        <tr>
          <td id="propertyId">
            {{ property.id }}
          </td>
          <td id="propertyName">
            {{ property.name }}
          </td>
          <td id="propertyCVR">
            {{ property.cvr }}
          </td>
          <td id="propertyCHR" *ngIf="isFarms">
            {{ property.chr }}
          </td>
          <td id="propertyAddress">
            {{ property.address }}
          </td>
<!--          <td id="propertyLanguages">-->
<!--            {{ getLanguages(property) | translate}}-->
<!--          </td>-->
          <td id="propertyCompliance">
            <button id="showCompliancesBtn"
                    class="btn {{getColorBadge(property.complianceStatus)}} btn-icon mr-2"
                    mdbTooltip="{{ 'View compliance' | translate }}"
                    [routerLink]="['../compliances/', property.id]"
                    [disabled]="!property.isWorkersAssigned"
            >
              <fa-icon icon="list-alt" size="lg" [fixedWidth]="true"></fa-icon>
            </button>
<!--            <button id="showComplianceThirtyBtn"-->
<!--                    class="btn {{getColorBadge(property.complianceStatusThirty)}} btn-icon mr-2"-->
<!--                    mdbTooltip="{{ 'View compliance 30 days' | translate }}"-->
<!--                    [routerLink]="['../compliances', property.id, property.complianceStatusThirty]"-->
<!--                    [disabled]="!property.isWorkersAssigned"-->
<!--            >-->
<!--              <fa-icon icon="list-alt" [fixedWidth]="true"></fa-icon>-->
<!--            </button>-->
          </td>
          <td>
            <div class="d-flex flex-row justify-content-center">
              <button
                id="showPropertyAreasBtn"
                class="btn btn-success btn-icon mr-2"
                mdbTooltip="{{ 'View areas' | translate }}"
                [routerLink]="'../property-areas/' + property.id"
                [disabled]="!property.isWorkersAssigned"
              >
                <fa-icon icon="toolbox" size="lg" [fixedWidth]="true"></fa-icon>
              </button>
              <button *ngIf="authStateService.isAdmin"
                id="docxReportBtn"
                class="btn btn-success btn-icon"
                mdbTooltip="{{ 'Select report' | translate }}"
                (click)="onShowDocxReportModal(property.id)"
              >
                <fa-icon
                  icon="file-word"
                  size="lg"
                  [fixedWidth]="true"
                ></fa-icon>
              </button>
              <ng-container *ngIf="property.workorderEnable">
                <button
                  mdbBtn
                  class="btn btn-success btn-icon mr-2"
                  (click)="onShowEditEntityListModal(property)"
                  mdbTooltip="{{ 'Edit list of areas for workorder' | translate }}"
                  id="updateEntityList"
                  [placement]="'left'"
                >
                  <fa-icon icon="list" size="lg" [fixedWidth]="true"></fa-icon>
                </button>
              </ng-container>
              <button
                id="editPropertyBtn"
                class="btn btn-accent text-black-50 btn-icon mr-2"
                mdbTooltip="{{ 'Edit property' | translate }}"
                (click)="onShowEditPropertyModal(property)"
                [disabled]="!authStateService.checkClaim('property_edit')"
              >
                <fa-icon icon="pen" size="lg" [fixedWidth]="true"></fa-icon>
              </button>
              <button
                id="deletePropertyBtn"
                class="btn btn-danger btn-icon mr-2"
                mdbTooltip="{{ 'Delete property' | translate }}"
                (click)="onShowDeletePropertyModal(property)"
                [disabled]="!authStateService.checkClaim('property_delete')"
              >
                <fa-icon
                  icon="trash-alt"
                  size="lg"
                  [fixedWidth]="true"
                ></fa-icon>
              </button>
            </div>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
