<eform-new-subheader/>

<app-backend-pn-report-header
  [availableTags]="availableTags"
  (downloadReport)="onDownloadReport($event)"
  (generateReport)="onGenerateReport($event)"
/>
<ng-container *ngFor="let report of reportsModel; let i = index; last as isLastReport">
  <ng-container *ngFor="let groupEform of report.groupEform; let i = index; last as isLastGroupEform">
    <ng-container *ngIf="groupEform.items.length > 0">
      <div [class.mb-4]="!(isLastGroupEform && isLastReport)">
        <h1>{{report.groupTagName}}</h1>
        <app-report-table
          [items]="groupEform.items"
          [reportIndex]="i"
          [itemHeaders]="groupEform.itemHeaders"
          (planningCaseDeleted)="onPlanningCaseDeleted()"
          (btnViewPicturesClicked)="onClickViewPicture($event)"
          (editCaseClicked)="onClickEditCase($event)"
        />
      </div>
    </ng-container>
  </ng-container>
</ng-container>
