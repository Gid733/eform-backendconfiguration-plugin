<eform-subheader
  [title]="selectedArea.name"
  [forceStaticTitle]="true"
  [breadcrumbs]="breadcrumbs"
>

  <div class="p-3" *ngIf="selectedArea.type !== 4">
    <button
      mdbBtn
      id="ruleCreateBtn"
      class="btn-success btn-icon"
      mdbTooltip="{{ 'Create rule' | translate }}"
      (click)="showAreaRuleCreateModal()"
      [placement]="'left'"
    >
      <fa-icon icon="plus" size="lg" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
</eform-subheader>

<div class="container-fluid">
  <app-area-rules-table
    [areaRules]="areaRules"
    [selectedArea]="selectedArea"
    (showDeleteRuleModal)="showDeleteAreaRuleModal($event)"
    (showEditRuleModal)="showEditAreaRuleModal($event)"
    (showPlanAreaRuleModal)="showPlanAreaRuleModal($event)"
    (showEditEntityListModal)="entityListEditModal.show($event)"
  ></app-area-rules-table>
</div>

<app-area-rule-delete-modal
  #deleteAreaRuleModal
  (deleteAreaRule)="onDeleteAreaRule($event)"
></app-area-rule-delete-modal>

<app-area-rule-create-modal
  #createAreaRuleModal
  [selectedArea]="selectedArea"
  [areaRules]="areaRules"
  (createAreaRule)="onCreateAreaRule($event)"
  (deleteAreaRule)="onDeleteAreaRules($event)"
></app-area-rule-create-modal>

<app-area-rule-edit-modal
  #editAreaRuleModal
  [selectedArea]="selectedArea"
  (updateAreaRule)="onUpdateAreaRule($event)"
></app-area-rule-edit-modal>

<app-area-rule-plan-modal
  #planAreaRuleModal
  (updateAreaRulePlan)="onUpdateAreaRulePlan($event)"
></app-area-rule-plan-modal>

<app-area-rule-entity-list-modal
  (entityListChanged)="updateEntityList($event)"
  #entityListEditModal
></app-area-rule-entity-list-modal>
