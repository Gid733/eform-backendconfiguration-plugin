<eform-subheader
  [title]="'Documents' | translate"
  [forceStaticTitle]="true"
>
  <div class="p-3">
    <ng-container *ngIf="folders !== undefined">
      <button *ngIf="folders.entities.length > 0"
        mdbBtn
        id="createNewDocumentBtn"
        class="btn-success btn-icon"
        mdbTooltip="{{ 'Create new document' | translate }}"
        (click)="openCreateModal()"
        [placement]="'left'"
      >
        <fa-icon icon="plus" size="lg" [fixedWidth]="true"></fa-icon>
      </button>
    </ng-container>
    <button
      mdbBtn
      id="manageFoldersBtn"
      class="btn-success btn-icon"
      mdbTooltip="{{ 'Manage folders' | translate }}"
      (click)="openManageFoldersModal()"
      [placement]="'left'"
    >
      <fa-icon icon="folder" size="lg" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
</eform-subheader>

<div class="container-fluid">
<!--  <app-documents-filters></app-documents-filters>-->
<!--  <div class="col">-->
<!--    <div class="row">-->
<!--      <button-->
<!--        mdbBtn-->
<!--        id="showReportBtn"-->
<!--        class="btn-success btn-small-height"-->
<!--        (click)="updateTable()"-->
<!--      >-->
<!--        {{ 'Show' | translate }}-->
<!--      </button>-->
<!--    </div>-->
<!--  </div>-->
  <ng-container *ngIf="folders !== undefined">
    <ng-container *ngFor="let folder of folders.entities">
      <h3 class="mt-3">{{ folder.documentFolderTranslations[0].name}}</h3>
      <ng-container *ngIf="documents !== undefined">
        <app-documents-table
        [folderId]="folder.id"
        [documents]="documents"
        (openEditModal)="showEditDocumentModal($event)"
        (openDeleteModal)="showDeleteDocumentModal($event)"
        >
        </app-documents-table>
      </ng-container>

    </ng-container>
  </ng-container>
</div>

<ng-container *ngIf="folders !== undefined">
  <app-documents-folders
    #manageFoldersModal
    (foldersChanged)="getFolders()"
  ></app-documents-folders>
  <app-documents-document-create
    #createDocumentModal
    (documentCreated)="getFolders()">
  </app-documents-document-create>
  <app-documents-document-edit
    #editDocumentModal
    (documentCreated)="getFolders()">
  </app-documents-document-edit>
  <app-documents-document-delete
    #deleteDocumentModal
    (documentDeleted)="getFolders()">
  #deleteDocumentModal>
  </app-documents-document-delete>
</ng-container>
